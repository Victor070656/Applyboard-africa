/* ============================================
   MANAGER PANEL - CUSTOM STYLES
   Mobile Dropdown Fixes
   ============================================ */

/* 
 * CRITICAL FIX: Override Bootstrap's position:static on dropdowns
 * The template's style.min.css sets .dropdown{position:static} which breaks 
 * Bootstrap 5's dropdown positioning on mobile devices.
 */

@media (max-width: 767.98px) {
  /* Ensure topbar is properly layered */
  .app-topbar {
    z-index: 1050 !important;
    position: sticky !important;
    isolation: isolate;
  }

  /* Override template's static positioning on dropdowns */
  .topbar-item.dropdown,
  .dropdown {
    position: relative !important;
    z-index: 1061 !important;
    pointer-events: auto !important;
    display: inline-block !important;
  }

  /* Ensure dropdown menus are absolutely positioned */
  .dropdown-menu {
    position: absolute !important;
    z-index: 1070 !important;
  }

  /* Make dropdown buttons visible and interactable on mobile */
  .dropdown > a,
  .dropdown > button,
  .dropdown > .dropdown-toggle {
    pointer-events: auto !important;
    touch-action: manipulation !important;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
    user-select: none !important;
  }

  /* User dropdown positioning for mobile */
  .topbar-item.dropdown .dropdown-menu {
    position: fixed !important;
    top: 64px !important;
    right: 12px !important;
    left: auto !important;
    transform: none !important;
    max-width: calc(100vw - 24px) !important;
  }
}

@media (max-width: 576px) {
  /* Smaller topbar on small screens */
  .app-topbar {
    z-index: 1050 !important;
  }

  /* Override template's static positioning on dropdowns */
  .topbar-item.dropdown,
  .dropdown {
    position: relative !important;
    display: inline-block !important;
  }

  .dropdown-menu {
    position: absolute !important;
  }

  /* Adjust dropdown position for smaller topbar */
  .topbar-item.dropdown .dropdown-menu {
    top: 56px !important;
  }
}
